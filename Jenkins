pipeline
{
    agent any
    stages
    {
        stage('initial slack message')
        {
            steps
            {
                sh 'echo Building...'
                slackSend message:"Build Started - ${env.JOB_NAME}"
            }
        }
        stage('linting Dockerfile')
        {
            steps
            {
                script
                {
                    docker.image('hadolint/hadolint:latest-debian').inside()
                    {
                        sh 'hadolint Dockerfile'
                        
                        lackSend message:"Linting Dockefile- ${env.JOB_NAME}"
                    }
                }
            }
        }
        stage('application linting')
        {
            steps
            {
                script
                {
                    docker.image('python:3.7.3-stretch').inside()
                    {
                        sh 'hadolint Dockerfile'
                        
                        lackSend message:"Linting application- ${env.JOB_NAME}"
                    }
                }
            }
        }
        
    }
}